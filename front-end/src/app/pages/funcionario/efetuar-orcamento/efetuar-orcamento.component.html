<mat-card *ngIf="solicitacao as s; else notFound">
    <mat-card-title>Efetuar Orçamento</mat-card-title>
    <mat-card-subtitle>Preencha o valor e confirme</mat-card-subtitle>
  
    <div class="grid">
      <div>
        <h4>Solicitação</h4>
        <p><b>ID:</b> {{ s.id }}</p>
        <p><b>Abertura:</b> {{ s.createdAt | date:'dd/MM/yyyy HH:mm' }}</p>
        <p><b>Descrição:</b> {{ s.descricaoProduto }}</p>
        <p><b>Estado atual:</b> {{ s.estado }}</p>
      </div>
  
      <div>
        <h4>Cliente</h4>
        <ng-container *ngIf="s.cliente as c">
          <p><b>Nome:</b> {{ c.nome }}</p>
          <p><b>E-mail:</b> {{ c.email }}</p>
          <p><b>Telefone:</b> {{ c.telefone }}</p>
  
          <ng-container *ngIf="c.endereco as e">
            <p><b>Endereço:</b>
              {{ e.rua }}, {{ e.numero }} - {{ e.bairro }} -
              {{ e.cidade }}/{{ e.estado }} (CEP {{ e.cep }})
            </p>
          </ng-container>
        </ng-container>
  
        <ng-container *ngIf="!s.cliente">
          <p><b>Nome:</b> {{ s.cliente }}</p>
        </ng-container>
      </div>
    </div>
  
    <form [formGroup]="form" class="form" (ngSubmit)="salvar()">
      <mat-form-field appearance="outline" class="w">
        <mat-label>Valor do Orçamento (R$)</mat-label>
        <input matInput type="number" formControlName="valor" placeholder="0,00" step="0.01" min="0.01">
        <mat-error *ngIf="form.get('valor')?.hasError('required')">Informe o valor.</mat-error>
        <mat-error *ngIf="form.get('valor')?.hasError('min')">Valor mínimo é 0,01.</mat-error>
      </mat-form-field>
  
      <div class="actions">
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
          Salvar Orçamento
        </button>
        <button mat-button type="button" (click)="cancelar()">
          Voltar
        </button>
      </div>
    </form>
  </mat-card>
  
  <ng-template #notFound>
    <mat-card>
      <mat-card-title>Solicitação não encontrada</mat-card-title>
      <button mat-button (click)="cancelar()">Voltar</button>
    </mat-card>
  </ng-template>